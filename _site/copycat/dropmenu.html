<html>
  <head>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.0.3.js"></script>
    <style>
      /* box-shadow: x-offset y-offset radius color */
      #dropmenu {
        background-color: white;
        border:1px solid #ccc;
        box-shadow: 0px 0px 5px #888888;
        border-bottom-right-radius: 5px;
        border-bottom-left-radius: 5px;
        width: 150px;
        height: 350px;
        padding: 10px;
      }

      #dropmenu ul {
        padding-left: 10px;
        list-style-type: none;
      }

      #dropmenu ul li {
        margin:0 20px 20px 0; 
        vertical-align:top;
      }
      
      #dropmenu ul li a:hover {
        z-index: 1001;
        color: orange;
        font-weight: bold;
      }

      /* attempt at CSS3 animations */
      .dropmenu-item {
        border:1px solid #ccc;
        position: absolute;
        z-index: -1;
        height:350px;
        border-bottom-right-radius: 5px;
        border-bottom-left-radius: 5px;
        padding: 10px;
      }

      .dropmenu-item.active {
        width:400px !important;
        box-shadow: 0px 0px 10px #888888;
        transition: width ease-in 1s, box-shadow 2s linear;
      }

      .dropmenu-item.unactive {
        width:150px;
        box-shadow: 0px 0px 0px #888888;
        transition: width ease-in 1s, box-shadow 2s linear;
      }

      #tophat {
        border-top-right-radius: 5px;
        border-top-left-radius: 5px;
        height: 40px;
        width: 80px;
        padding: 10px;
        background-color: #111;
        color: white;
      }

    </style>
  </head>
  <body>
    <div id="tophat">
      <span>Big Header Text</span>
    </div>
    <div id="dm1box" class="dropmenu-item" style="background-color: orange;">box1</div>
    <div id="dm2box" class="dropmenu-item" style="background-color: red;">box2</div>
    <div id="dm3box" class="dropmenu-item" style="background-color: brown;">box3</div>
    <div id="dropmenu" data-button="main">
      <ul>
        <li id="dm1" data-link="menuitem">Item 1</li>
        <li id="dm2" data-link="menuitem">Item 2</li>
        <li id="dm3" data-link="menuitem">Item 3</li>
      </ul>
    </div>
    <script type="text/javascript">

      function showTargetDiv(toTarget) {
        //$("div#" + toTarget).show();
        //$("div#" + toTarget).stop().show();
        $("div#" + toTarget).addClass("active");
        $("div#" + toTarget).removeClass("unactive");
      }

      function hideTargetDiv(toTarget) {
        //$("div#" + toTarget).hide();
        //$("div#" + toTarget).stop().hide();
        $("div#" + toTarget).addClass("unactive");
        $("div#" + toTarget).removeClass("active");
      }

      // using data-* fields in javascript
      $(function() {
        console.log("READY!");
        console.log($("li[data-link]").length);
        console.log($("#dropmenu ul li").length);


        $("li[data-link]").each(function() {
          console.log($(this).data("link"));
          $(this).append(" " + $(this).data("link"));
        });

        $("#dropmenu ul li").each(function() {
          idTarget=$(this).attr('id') + "box";
          console.log(idTarget);

          $(this).hover(
            function() {
              toTarget=$(this).attr('id') + "box";
              console.log($(this).attr('id'));
              showTargetDiv(toTarget);
              console.log("show " + toTarget);
            },
            function() {
              toTarget=$(this).attr('id') + "box";
              hideTargetDiv(toTarget);
              console.log("hide " + toTarget);
            }
          ); 
        });
      });
    </script>      
  </body>
</html>
